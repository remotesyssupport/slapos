[crond]
recipe = slapos.cookbook:runner
service = yes
binary = ${dcron:location}/sbin/crond
cmd_0 = ${:binary}
cmd_10 = -s
cmd_11 = ${dollar}{cron_d:location}
cmd_20 = -c
cmd_21 = ${dollar}{cron_crontabs:location}
cmd_30 = -t
cmd_31 = ${dollar}{cron_timestamps:location}
cmd_40 = -f
cmd_50 = -l
cmd_51 = 5
cmd_60 = -M
cmd_61 = ${dollar}{cron_catcher:location}/${dollar}{cron_catcher:name}

[cron_timestamps]
recipe = slapos.cookbook:mkdir
name = cronstamps
type = data
removable = false

[cron_d]
recipe = slapos.cookbook:mkdir
name = cron.d
type = config_parts
removable = false

[cron_crontabs]
recipe = slapos.cookbook:mkdir
name = crontabs
type = config_parts
removable = false

[cron_output]
recipe = slapos.cookbook:mkdir
type = log
removable = false

[cron_catcher]
recipe = slapos.cookbook:runner
type = python
service = no
script =  ${dcron-catcher:location}/${dcron-catcher}
environment = 
	directory=${dollar}{cron_output:location}
